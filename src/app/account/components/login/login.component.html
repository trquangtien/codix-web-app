<div class="login-page">
    <mat-card class="login-page__form">
        <mat-card-title class="codix-form__title">
            {{ "Login" }}
        </mat-card-title>

        <mat-card-content>
            <form [formGroup]="form" (ngSubmit)="submit()">
                <p>
                    <mat-form-field class="codix-form__form-field">
                        <input
                            type="text"
                            matInput
                            placeholder="Username*"
                            formControlName="username"
                        />
                    </mat-form-field>

                    <ng-container
                        *ngTemplateOutlet="
                            requiredError;
                            context: { field: 'username' }
                        "
                    ></ng-container>
                </p>

                <p>
                    <mat-form-field class="codix-form__form-field">
                        <input
                            type="password"
                            matInput
                            placeholder="Password*"
                            formControlName="password"
                        />
                    </mat-form-field>

                    <ng-container
                        *ngTemplateOutlet="
                            requiredError;
                            context: { field: 'password' }
                        "
                    ></ng-container>
                </p>

                <div
                    class="codix-form__button-container codix-form__button-container--space-between"
                >
                    <a routerLink="/account/register">
                        {{ "Register" }}
                    </a>

                    <button type="submit" mat-button [disabled]="form.invalid">
                        {{ "Login" }}
                    </button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>

    <ng-template #requiredError let-field="field">
        <mat-error
            *ngIf="
                form.get(field)?.hasError('required') &&
                (form.get(field)?.dirty || form.get(field)?.touched)
            "
        >
            {{ "This field is required" }}
        </mat-error>
    </ng-template>
</div>
